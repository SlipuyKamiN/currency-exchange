{"mappings":"ovBAAA,MAAMA,SAAWC,SAASC,cAAc,oBAClCC,SAAWF,SAASC,cAAc,oBAClCE,KAAOH,SAASC,cAAc,eAC9BG,UAAYJ,SAASC,cAAc,UACnCI,aAAeL,SAASC,cAAc,eACtCK,aAAeN,SAASC,cAAc,eACtCM,UAAYP,SAASC,cAAc,qBACnCO,UAAYR,SAASC,cAAc,qBAEnCQ,iBAAmB,MAEnBC,WAAaC,WACjB,IAAIC,KAAOC,KAAK,QAAQF,YACxBC,KAAKE,YAAc,MAEnBC,MACE,6CAA6CJ,wDAE5CK,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,MAAM,IAEvBL,MAAKM,GACGA,IAERN,MAAKM,IACJV,KAAKE,YAAcS,KAAKC,MAA+B,IAAzBF,EAAWG,QAAQC,KAAa,GAAG,IAElEC,OAAMC,GAAKC,QAAQC,IAAIF,IAAG,EAEzBG,kBAAoB,CAACC,KAAMC,KAAMC,MAAOC,UAC5C,IAAIC,OAGFA,OADEJ,KAAKK,QAAUJ,KAAKI,MACC,EAAdH,MAAMG,MACNL,KAAKK,QAAU5B,iBACfyB,MAAMG,MAAQC,OAAOzB,KAAK,QAAQoB,KAAKI,sBACvCJ,KAAKI,QAAU5B,iBACfyB,MAAMG,MAAQC,OAAOzB,KAAK,QAAQmB,KAAKK,sBAG9CH,MAAOG,MAAQC,OAAOzB,KAAK,QAAQmB,KAAKK,sBACxCC,OAAOzB,KAAK,QAAQoB,KAAKI,sBAG7BF,OAAOE,MAAQd,KAAKC,MAAe,IAATY,QAAgB,GAAG,EAEzCG,iBAAmBC,IACvB,IAAIC,EAAkBpC,aAClBqC,EAAmBrC,aACnBsC,EAAepC,UACfqC,EAAgBrC,UAUpB,GARIiC,EAAMK,SAAWtC,WACnBqC,EAAgBpC,UAChBkC,EAAmBpC,eAEnBqC,EAAenC,UACfiC,EAAkBnC,cAGhBkC,EAAMK,SAAWxC,cAAgBmC,EAAMK,SAAWvC,aAGpD,OAFAsC,EAAgBpC,eAChBuB,kBAAkB1B,aAAcC,aAAcC,UAAWqC,GAI3Db,kBACEU,EACAC,EACAC,EACAC,EACD,EAGHlC,WAAW,OACXA,WAAW,OAEXP,KAAK2C,iBAAiB,QAASP,kBAC/BnC,UAAU0C,iBAAiB,SAAS,KAClCpC,WAAW,OACXA,WAAW,MAAM,G","sources":["src/index.js"],"sourcesContent":["const valueEUR = document.querySelector('[data-eur-value]');\nconst valueUSD = document.querySelector('[data-usd-value]');\nconst form = document.querySelector('[data-form]');\nconst updateBtn = document.querySelector('button');\nconst fromCurrency = document.querySelector('[data-from]');\nconst intoCurrency = document.querySelector('[data-into]');\nconst inputFrom = document.querySelector('[data-input-from]');\nconst inputInto = document.querySelector('[data-input-into]');\n\nconst PRIMARY_CURRENCY = 'UAH';\n\nconst updateRate = currency => {\n  let curr = eval(`value${currency}`);\n  curr.textContent = 99.99;\n\n  fetch(\n    `https://api.fastforex.io/fetch-multi?from=${currency}&to=UAH&api_key=7286b54f11-1f02cf7f73-rqv3lj`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then(currencies => {\n      return currencies;\n    })\n    .then(currencies => {\n      curr.textContent = Math.round(currencies.results.UAH * 100) / 100;\n    })\n    .catch(e => console.log(e));\n};\nconst convertCurrencies = (from, into, input, output) => {\n  let result;\n\n  if (from.value === into.value) {\n    result = input.value * 1;\n  } else if (from.value === PRIMARY_CURRENCY) {\n    result = input.value / Number(eval(`value${into.value}.textContent`));\n  } else if (into.value === PRIMARY_CURRENCY) {\n    result = input.value * Number(eval(`value${from.value}.textContent`));\n  } else {\n    result =\n      (input.value * Number(eval(`value${from.value}.textContent`))) /\n      Number(eval(`value${into.value}.textContent`));\n  }\n\n  output.value = Math.round(result * 100) / 100;\n};\nconst handleFormChange = event => {\n  let currentCurrency = fromCurrency;\n  let oppositeCurrency = fromCurrency;\n  let currentInput = inputFrom;\n  let oppositeInput = inputFrom;\n\n  if (event.target === inputFrom) {\n    oppositeInput = inputInto;\n    oppositeCurrency = intoCurrency;\n  } else {\n    currentInput = inputInto;\n    currentCurrency = intoCurrency;\n  }\n\n  if (event.target === fromCurrency || event.target === intoCurrency) {\n    oppositeInput = inputInto;\n    convertCurrencies(fromCurrency, intoCurrency, inputFrom, oppositeInput);\n    return;\n  }\n\n  convertCurrencies(\n    currentCurrency,\n    oppositeCurrency,\n    currentInput,\n    oppositeInput\n  );\n};\n\nupdateRate('EUR');\nupdateRate('USD');\n\nform.addEventListener('input', handleFormChange);\nupdateBtn.addEventListener('click', () => {\n  updateRate('EUR');\n  updateRate('USD');\n});\n"],"names":["valueEUR","document","querySelector","valueUSD","form","updateBtn","fromCurrency","intoCurrency","inputFrom","inputInto","PRIMARY_CURRENCY","updateRate","currency","curr","eval","textContent","fetch","then","response","ok","Error","status","json","currencies","Math","round","results","UAH","catch","e","console","log","convertCurrencies","from","into","input","output","result","value","Number","handleFormChange","event","currentCurrency","oppositeCurrency","currentInput","oppositeInput","target","addEventListener"],"version":3,"file":"index.e0095fb9.js.map"}