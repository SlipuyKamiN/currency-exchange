{"mappings":"gwBAAA,IAAMA,SAAWC,SAASC,cAAc,oBAClCC,SAAWF,SAASC,cAAc,oBAClCE,KAAOH,SAASC,cAAc,eAC9BG,UAAYJ,SAASC,cAAc,UACnCI,aAAeL,SAASC,cAAc,eACtCK,aAAeN,SAASC,cAAc,eACtCM,UAAYP,SAASC,cAAc,qBACnCO,UAAYR,SAASC,cAAc,qBAEnCQ,iBAAmB,MAEnBC,WAAa,SAAAC,UACjB,IAAIC,KAAOC,KAAK,QAAiBC,OAATH,WACxBC,KAAKG,YAAc,MAEnBC,MACE,6CAAsDF,OAATH,SAAS,iDAErDM,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,M,IAEjBL,MAAK,SAAAM,GACJ,OAAOA,C,IAERN,MAAK,SAAAM,GACJX,KAAKG,YAAcS,KAAKC,MAA+B,IAAzBF,EAAWG,QAAQC,KAAa,G,IAE/DC,OAAM,SAAAC,G,OAAKC,QAAQC,IAAIF,E,KAEtBG,kBAAoB,SAACC,KAAMC,KAAMC,MAAOC,QAC5C,IAAIC,OAGFA,OADEJ,KAAKK,QAAUJ,KAAKI,MACC,EAAdH,MAAMG,MACNL,KAAKK,QAAU7B,iBACf0B,MAAMG,MAAQC,OAAO1B,KAAK,QAAmBC,OAAXoB,KAAKI,MAAM,kBAC7CJ,KAAKI,QAAU7B,iBACf0B,MAAMG,MAAQC,OAAO1B,KAAK,QAAmBC,OAAXmB,KAAKK,MAAM,kBAGpDH,MAAOG,MAAQC,OAAO1B,KAAK,QAAmBC,OAAXmB,KAAKK,MAAM,kBAC9CC,OAAO1B,KAAK,QAAmBC,OAAXoB,KAAKI,MAAM,kBAGnCF,OAAOE,MAAQd,KAAKC,MAAe,IAATY,QAAgB,G,EAEtCG,iBAAmB,SAAAC,GACvB,IAAIC,EAAkBrC,aAClBsC,EAAmBtC,aACnBuC,EAAerC,UACfsC,EAAgBtC,UAEhBkC,EAAMK,SAAWvC,WACnBsC,EAAgBrC,UAChBmC,EAAmBrC,eAEnBsC,EAAepC,UACfkC,EAAkBpC,cAGhBmC,EAAMK,SAAWzC,cAAgBoC,EAAMK,SAAWxC,aAMtD0B,kBACEU,EACAC,EACAC,EACAC,GARAb,kBAAkB3B,aAAcC,aAAcC,UAD9CsC,EAAgBrC,U,EAapBE,WAAW,OACXA,WAAW,OAEXP,KAAK4C,iBAAiB,QAASP,kBAC/BpC,UAAU2C,iBAAiB,SAAS,WAClCrC,WAAW,OACXA,WAAW,M","sources":["src/index.js"],"sourcesContent":["const valueEUR = document.querySelector('[data-eur-value]');\nconst valueUSD = document.querySelector('[data-usd-value]');\nconst form = document.querySelector('[data-form]');\nconst updateBtn = document.querySelector('button');\nconst fromCurrency = document.querySelector('[data-from]');\nconst intoCurrency = document.querySelector('[data-into]');\nconst inputFrom = document.querySelector('[data-input-from]');\nconst inputInto = document.querySelector('[data-input-into]');\n\nconst PRIMARY_CURRENCY = 'UAH';\n\nconst updateRate = currency => {\n  let curr = eval(`value${currency}`);\n  curr.textContent = 99.99;\n\n  fetch(\n    `https://api.fastforex.io/fetch-multi?from=${currency}&to=UAH&api_key=7286b54f11-1f02cf7f73-rqv3lj`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then(currencies => {\n      return currencies;\n    })\n    .then(currencies => {\n      curr.textContent = Math.round(currencies.results.UAH * 100) / 100;\n    })\n    .catch(e => console.log(e));\n};\nconst convertCurrencies = (from, into, input, output) => {\n  let result;\n\n  if (from.value === into.value) {\n    result = input.value * 1;\n  } else if (from.value === PRIMARY_CURRENCY) {\n    result = input.value / Number(eval(`value${into.value}.textContent`));\n  } else if (into.value === PRIMARY_CURRENCY) {\n    result = input.value * Number(eval(`value${from.value}.textContent`));\n  } else {\n    result =\n      (input.value * Number(eval(`value${from.value}.textContent`))) /\n      Number(eval(`value${into.value}.textContent`));\n  }\n\n  output.value = Math.round(result * 100) / 100;\n};\nconst handleFormChange = event => {\n  let currentCurrency = fromCurrency;\n  let oppositeCurrency = fromCurrency;\n  let currentInput = inputFrom;\n  let oppositeInput = inputFrom;\n\n  if (event.target === inputFrom) {\n    oppositeInput = inputInto;\n    oppositeCurrency = intoCurrency;\n  } else {\n    currentInput = inputInto;\n    currentCurrency = intoCurrency;\n  }\n\n  if (event.target === fromCurrency || event.target === intoCurrency) {\n    oppositeInput = inputInto;\n    convertCurrencies(fromCurrency, intoCurrency, inputFrom, oppositeInput);\n    return;\n  }\n\n  convertCurrencies(\n    currentCurrency,\n    oppositeCurrency,\n    currentInput,\n    oppositeInput\n  );\n};\n\nupdateRate('EUR');\nupdateRate('USD');\n\nform.addEventListener('input', handleFormChange);\nupdateBtn.addEventListener('click', () => {\n  updateRate('EUR');\n  updateRate('USD');\n});\n"],"names":["valueEUR","document","querySelector","valueUSD","form","updateBtn","fromCurrency","intoCurrency","inputFrom","inputInto","PRIMARY_CURRENCY","updateRate","currency","curr","eval","concat","textContent","fetch","then","response","ok","Error","status","json","currencies","Math","round","results","UAH","catch","e","console","log","convertCurrencies","from","into","input","output","result","value","Number","handleFormChange","event","currentCurrency","oppositeCurrency","currentInput","oppositeInput","target","addEventListener"],"version":3,"file":"index.9102f75a.js.map"}